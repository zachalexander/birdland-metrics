# Birdland Metrics (formerly Launch Angle)

## Overview
Baseball analytics blog — Angular 21 SSR + Contentful CMS + d3.js visualizations.
Orioles-inspired color palette (#df4a00 orange, #1a1a1a black).
**Rebranding in progress**: Launch Angle → Birdland Metrics

## Repo
- GitHub: https://github.com/zachalexander/launch-angle
- Branch: `main`
- Path: `/Users/zdalexander/Desktop/launch-angle/`

## Tech Stack
- Angular 21 with SSR (Express-based via `@angular/ssr`)
- Contentful Delivery API (`contentful` npm package)
- `@contentful/rich-text-html-renderer` for rich text → HTML
- d3.js for visualizations (lazy-loaded, browser-only via `isPlatformBrowser`)
- Plain CSS (no framework)
- Dockerized for AWS deployment (Fargate/App Runner)

## Contentful Schema
- **Space ID**: `btpj5jq8xkdj`
- **Content type**: `article` (not `blogPost` — this was a gotcha during setup)
- **Article fields**: title, slug, excerpt, content (RichText), coverImage (Asset link), publishedAt (Date), tags (Array<Symbol>), isPremium (Boolean), featured (Boolean)
- **Author content type**: name, bio, avatar (Asset link) — linked to articles
- `environment.ts` has placeholder values (for local dev, replace with real keys)
- `environment.prod.ts` has hardcoded Delivery API keys (read-only, safe to commit)

## Architecture
```
src/app/
├── core/services/contentful.service.ts    — API client, maps entries to TypeScript models
├── features/
│   ├── home/                              — Hero + article card grid
│   ├── article-detail/                    — Full article, rich text rendering, JSON-LD, SEO meta
│   └── article-list/                      — Category/tag filtered grid
├── shared/
│   ├── components/header|footer|article-card
│   └── models/content.models.ts           — BlogPost, Author interfaces
└── visualizations/spray-chart/            — d3.js spray chart at /visualizations/spray-chart
```

## Routes
- `/` — Home (lazy-loaded HomeComponent)
- `/articles/:slug` — Article detail (lazy-loaded)
- `/category/:category` — Filtered list (lazy-loaded)
- `/visualizations/spray-chart` — d3.js spray chart (lazy-loaded)
- All routes use `RenderMode.Server` for SSR

## SEO
- `Meta` and `Title` services set og:title, og:description, og:image, og:type, twitter:card per page
- JSON-LD `BlogPosting` schema injected on article detail pages
- SSR ensures meta tags are in initial HTML response

## Docker
- Multi-stage Dockerfile: build with `node:20-alpine`, run with `node:20-alpine`
- Runs `node dist/launch-angle/server/server.mjs` on port 4000
- `.env.example` documents required env vars

## Deployment
- **Live URL**: https://zsncppjfkq.us-east-1.awsapprunner.com
- **Service**: AWS App Runner (auto-deploys on push to main)
- **Region**: us-east-1
- **Runtime**: Node.js 22
- **Instance**: 0.25 vCPU, 0.5 GB memory
- **GitHub Connection**: launch-angle-github (authorized)

## Current State (2026-02-06)
- 2 test articles in Contentful ("First Post", "Second Post") with cover images
- App deployed to App Runner — deploy in progress with Contentful fix
- Spray chart wired to /visualizations/spray-chart with nav link in header
- Author linked to articles and displayed on article detail pages
- Tags added to articles, category filtering works
- Fixed: Angular environment files evaluated at build time, not runtime (hardcoded prod keys)

## Completed
- ✓ Wire spray chart into dedicated route
- ✓ Add tags to Contentful articles
- ✓ Link author entries to articles in Contentful
- ✓ Deploy to AWS App Runner

## Next Steps
- Rebrand from "Launch Angle" to "Birdland Metrics" (site title, logo, meta tags, etc.)
- Add disclaimers to the site (see Disclaimers section below)
- Set up newsletter for email capture (Buttondown or ConvertKit)
- Add pagination for article lists
- Add custom domain (birdlandmetrics.com?)
- Add more d3.js visualizations

## Disclaimers (TODO)
Add the following disclaimers to Birdland Metrics:
- Not affiliated with the Baltimore Orioles or MLB
- Content is for informational/entertainment purposes only
- Any betting/fantasy advice is not financial advice
- Data sourced from public APIs (credit sources as needed)
- Affiliate disclosure if using affiliate links

## Monetization Ideas (discussed)
- Premium content (isPremium field already exists in schema)
- Affiliate links (fantasy sports, baseball gear, data subscriptions)
- Newsletter with free/paid tiers
